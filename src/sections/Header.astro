---
import Action from "@/components/ActionLanding.astro"
import type { HeaderData } from "@/config/landing.interface"

interface Props {
	data: HeaderData
}

const { data } = Astro.props
---

<header
	id="navbar"
	class="fixed z-50 hidden h-20 w-full justify-center transition duration-300 md:flex"
>
	<nav aria-label="Main Navigation" class="flex w-3/4 flex-row items-center">
		<div class="text-nowrap">
			<Action as="a" class="text-xl" href="#">{data.logo}</Action>
		</div>
		<ul class="flex w-full flex-row justify-center gap-x-14">
			{
				data.links.map((item) => (
					<li class="text-lg hover:scale-110 hover:opacity-80">
						<Action as="a" href={item.href}>
							{item.label}
						</Action>
					</li>
				))
			}
		</ul>
		<span></span>
	</nav>
</header>

<script is:inline>
	window.addEventListener("scroll", () => {
		const navbar = document.getElementById("navbar")
		if (!navbar) return

		if (window.scrollY >= 20) {
			navbar.classList.remove("border-b-transparent")
			navbar.classList.remove("bg-transparent")
			navbar.classList.add("border-b")
			navbar.classList.add("border-b-slate-300")
			navbar.classList.add("bg-white")
		} else {
			navbar.classList.remove("border-b")
			navbar.classList.remove("border-b-slate-300")
			navbar.classList.remove("bg-white")
			navbar.classList.add("border-b-transparent")
			navbar.classList.add("bg-transparent")
		}
	})
</script>
